var plusMergeText=function(t){function r(n){if(e[n])return e[n].exports;var u=e[n]={exports:{},id:n,loaded:!1};return t[n].call(u.exports,u,u.exports,r),u.loaded=!0,u.exports}var e={};return r.m=t,r.c=e,r.p="",r(0)}([function(t,r){"use strict";function e(t){return t}function n(t,r){t=t.replace(/\s+$/,""),r=r.replace(/\s+$/,"");var n=u(""==t?[]:t.split(/\s+/),""==r?[]:r.split(/\s+/)),o=[],l=t.match(/\s+/g);null==l?l=["\n"]:l.push("\n");var i=r.match(/\s+/g);if(null==i?i=["\n"]:i.push("\n"),0==n.n.length)for(var s=0;s<n.o.length;s++)o.push({type:"delete",value:e(n.o[s])+l[s]});else{if(null==n.n[0].text)for(r=0;r<n.o.length&&null==n.o[r].text;r++)o.push({type:"delete",value:e(n.o[r])+l[r]});for(var s=0;s<n.n.length;s++)if(null==n.n[s].text)o.push({type:"insert",value:e(n.n[s])+i[s]});else for(o.push({type:"origin",value:n.n[s].text+i[s]}),r=n.n[s].row+1;r<n.o.length&&null==n.o[r].text;r++)o.push({type:"delete",value:e(n.o[r])+l[r]})}return o}function u(t,r){for(var e={},n={},u=0;u<r.length;u++)null==e[r[u]]&&(e[r[u]]={rows:[],o:null}),e[r[u]].rows.push(u);for(var u=0;u<t.length;u++)null==n[t[u]]&&(n[t[u]]={rows:[],n:null}),n[t[u]].rows.push(u);for(var u in e)1==e[u].rows.length&&"undefined"!=typeof n[u]&&1==n[u].rows.length&&(r[e[u].rows[0]]={text:r[e[u].rows[0]],row:n[u].rows[0]},t[n[u].rows[0]]={text:t[n[u].rows[0]],row:e[u].rows[0]});for(var u=0;u<r.length-1;u++)null!=r[u].text&&null==r[u+1].text&&r[u].row+1<t.length&&null==t[r[u].row+1].text&&r[u+1]==t[r[u].row+1]&&(r[u+1]={text:r[u+1],row:r[u].row+1},t[r[u].row+1]={text:t[r[u].row+1],row:u+1});for(var u=r.length-1;u>0;u--)null!=r[u].text&&null==r[u-1].text&&r[u].row>0&&null==t[r[u].row-1].text&&r[u-1]==t[r[u].row-1]&&(r[u-1]={text:r[u-1],row:r[u].row-1},t[r[u].row-1]={text:t[r[u].row-1],row:u-1});return{o:t,n:r}}function o(t){return t.filter(function(t){return"delete"!==t.type}).map(function(t){return t.value}).join("")}function l(t){var r={delete:function(t){return"<del>"+(""+t).trim()+" </del>"},insert:function(t){return"<ins>"+(""+t).trim()+" </ins>"}};return t.map(function(t){return r[t.type]?r[t.type](t.value):t.value}).join("")}function i(t){var r={delete:function(t){return" ~~"+(""+t).trim()+"~~ "},insert:function(t){return" __"+(""+t).trim()+"__ "}};return t.map(function(t){return r[t.type]?r[t.type](t.value):t.value}).join("")}function s(t,r){this.text=t,this.changes=r||[]}function f(t,r){for(var e=t.diff[t.current]||null,n=!1;e&&"insert"==e.type;)r.push(e),t.current++,e=t.diff[t.current]||null,n=!0;return n}function p(t,r,e){var n=Array.isArray(t)?t:Array.prototype.slice.call(arguments);return t=n.shift(),new s(t).apply(n)}s.prototype={apply:function(t){if(t=Array.isArray(t)?t:Array.prototype.slice.call(arguments),!t.length)return this;var r=this.merge(t);return new s(o(r),r)},merge:function(t){var r=this;if(t=Array.isArray(t)?t:Array.prototype.slice.call(arguments),!t.length)return n(r.text,r.text);t=t.map(function(t,e){return{id:e,diff:n(r.text,t),current:0}}).sort(function(t,r){return t.diff.length>=r.diff.length?-1:1});for(var e=t[0],u=t.filter(function(t){return t!==e}),o=[];e.current<=e.diff.length;){var l=e.diff[e.current]||null;if(!l||!f(e,o))if(u.length)for(var i=0;i<u.length;i++){var s=u[i],p=s.diff[s.current]||null;p&&f(s,o)&&(p=s.diff[s.current]||null),l&&p?("delete"==l.type&&"origin"==p.type&&o.push(l),"origin"==l.type&&"delete"==p.type&&o.push(p),"origin"==l.type&&"origin"==p.type&&(o.push(l),l.value!==p.value&&o.push(p)),e.current++,s.current++):p?(o.push(p),e.current++,s.current++):l?(o.push(l),e.current++):e.current++}else l&&o.push(l),e.current++}return o},toString:function(){return this.text},toHtml:function(){return this.changes.length?l(this.changes):this.text},toMarkdown:function(){return this.changes.length?i(this.changes):this.text}},t.exports.diff=n,t.exports.merge=p,t.exports.toText=o,t.exports.toHtml=l,t.exports.toMarkdown=i,t.exports.Snapshot=s,t.exports.snapshot=function(t){return new s(t)}}]);